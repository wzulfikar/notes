[
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4332714",
    "id": 4332714,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCHKo",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-12T10:50:01Z",
    "updated_at": "2022-10-14T08:00:49Z",
    "body": "<!-- note -->\r\n| | Wed, Oct 12, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| I want to execute a specific function (eg. `main`) if the JS file is ran from `node` cli |\r\n|**üí° Solution**:| `require.main == module && main();` |\r\n|**üîó Ref**: | https://codewithhugo.com/node-module-entry-required/ |\r\n|**#Ô∏è‚É£ Tags**:| `js` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI want my JS script to export a function while also having an alternate `main` function that will be run if I call the script from node (eg. `node my-script.js`. I remember that I can do something like `if __name__ == '__main__':` in Python, but I wasn't sure how to do that in NodeJS."
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4333204",
    "id": 4333204,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCHpQ",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-12T17:55:13Z",
    "updated_at": "2022-10-14T08:01:12Z",
    "body": "| |Wed, Oct 12, 2022   |\r\n|--------|-------|\r\n|**üß∂ Problem:**|Must download 20GB of xcode just to use `clang` or `make` |\r\n|**üí° Solution**:| `sudo xcode-select -switch /Library/Developer/CommandLineTools`|\r\n|**üîó Ref**:| [SO comment](https://apple.stackexchange.com/a/446563/301582)|\r\n|**#Ô∏è‚É£ Tags**:| `macos` `cli` `npm` `quirk`|\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI wanted to install tfjs-node (`npm i @tensorflow/tfjs-node`) but it kept asking for `clang` and `make`. I googled around and followed the steps that eventually asked me to install XCode. But it was too big (20GB!) and it doesn't feel logical to me. I google around again and found the SO comment in ref. Tried it, and it works."
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4333279",
    "id": 4333279,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCHt8",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-12T19:02:56Z",
    "updated_at": "2022-10-14T23:52:22Z",
    "body": "<!-- note -->\r\n| | Wed, Oct 12, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| Need a quick way to enable syntax highlighting in `nano`. |\r\n|**üí° Solution**:| `curl https://raw.githubusercontent.com/scopatz/nanorc/master/install.sh \\| sh` |\r\n|**üîó Ref**: | https://github.com/scopatz/nanorc |\r\n|**#Ô∏è‚É£ Tags**:| `unix` `editor` |\r\n|**üî¢ Encounters**:| 2 |\r\n\r\n**Context**:  \r\nI was editing a file in Raspberry PI with `nano` and I realised that I actually had to do it multiple times. So I think having a syntax highlighter can add quality of life. After some googling, I found the repo in ref (https://github.com/scopatz/nanorc) and it actually has a one-liner command to add the syntax highlighting (see \"Solution\"). Note that the one-liner execute the script immediately to your shell. Depending on your situation, you might not want to do that (eg. if you don't trust the script).\r\n\r\n| Before | After |\r\n|--------|-------|\r\n|   ![image](https://user-images.githubusercontent.com/7823011/195958776-050e4d19-3a51-4dcb-85e9-d6d33ca4b8cc.png)|    ![image](https://user-images.githubusercontent.com/7823011/195958782-e5ba36f2-0848-4010-80e3-02c967499b59.png)|"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4335530",
    "id": 4335530,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCJ6o",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-14T08:37:14Z",
    "updated_at": "2022-10-14T09:56:47Z",
    "body": "<!-- note -->\r\n| | Fri, Oct 14, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| Need to have my SSH public key but my laptop is not with me |\r\n|**üí° Solution**:| use `https://github.com/{username}.keys` |\r\n|**üîó Ref**: | [SO comment](https://stackoverflow.com/a/16158737/5381120) |\r\n|**#Ô∏è‚É£ Tags**:| `github` `git` `ssh` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nUsually, I'd run `cat ~/.ssh/id_ed25519.pub` in my laptop to see (and copy) my public SSH key. But turns out I can get the public key from https://github.com/wzulfikar.keys if I've added it to my Github account. Handy if I need to setup a new dev machine or a server.\r\n\r\nHere's a one-liner to show your SSH public key using Github:\r\n\r\n```sh\r\ncurl https://github.com/{username}.keys\r\n```"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4335623",
    "id": 4335623,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCKAc",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-14T08:51:21Z",
    "updated_at": "2022-10-14T09:55:16Z",
    "body": "<!-- note -->\r\n| | Fri, Oct 14, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| I want to have syntax highlighting in `cat` |\r\n|**üí° Solution**:| use `bat` and create an alias: `alias cat=\"bat -p\"` |\r\n|**üîó Ref**: | https://github.com/sharkdp/bat |\r\n|**#Ô∏è‚É£ Tags**:| `cli` `tool` `quality-of-life` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI use `cat` frequently and I realised it'll be better if it has syntax highlighting. I found this [SO comment](https://stackoverflow.com/a/14799752/5381120) that suggests to use `pygmentize` (python) but I find it too slow for me. So I googled around and found `bat` and I don't feel any speed difference between bat and cat (they're both fast!). So I created shell alias to use `bat` instead of `cat`:\r\n\r\n```sh\r\nalias cat=\"bat -p\"\r\nalias catt=\"bat --style=full\"\r\nalias catp=\"/bin/cat\"\r\n```\r\n\r\n| <p>`cat`, before the alias: </p>| <p>`cat`, after the alias:</p> |\r\n|--------|-------|\r\n| ![image](https://user-images.githubusercontent.com/7823011/195803658-3010efbe-6dd7-42a2-97d9-0fd0132ef517.png)       |     ![image](https://user-images.githubusercontent.com/7823011/195803686-fce484c8-5780-4a9e-b5de-6f7cc999f89d.png)  |\r\n| <p align=\"center\">`catt` (`bat` with full style): <p> | <p align=\"center\">`catp` (to access the original `cat`):</p> |\r\n|![image](https://user-images.githubusercontent.com/7823011/195809630-6f9e94d5-b3d5-407d-badb-36ec31ed9139.png)|![image](https://user-images.githubusercontent.com/7823011/195809681-e80693a0-5ca9-440d-8c93-1fa10b1e5c3a.png)|\r\n\r\nFor macOS, installation is easy: `brew install bat`"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4335738",
    "id": 4335738,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCKHo",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-14T09:30:36Z",
    "updated_at": "2022-10-14T09:30:36Z",
    "body": "<!-- note -->\r\n| | Fri, Oct 14, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| Need to search text in a code base |\r\n|**üí° Solution**:| use `rg` |\r\n|**üîó Ref**: | https://github.com/BurntSushi/ripgrep |\r\n|**#Ô∏è‚É£ Tags**:| `cli` `tool` `workflow` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI can't really remember which `find` args I should use to search texts and I found that `rg` has sensible defaults that just works. For example, here's how I search \"TODO\" text in a directory:\r\n\r\n![image](https://user-images.githubusercontent.com/7823011/195812702-f0ca25af-20db-4d1c-88cb-ca40adcc306b.png)\r\n\r\nThe nice thing about `rg` is it automatically exclude patterns from `.gitignore` (see [docs](https://github.com/BurntSushi/ripgrep#why-should-i-use-ripgrep)) so the search result won't be cluttered. Also, it's _very fast_! \r\n\r\nFor macOS, installation is easy: `brew install ripgrep`"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4335766",
    "id": 4335766,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCKJY",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-14T09:54:18Z",
    "updated_at": "2022-10-14T10:01:45Z",
    "body": "<!-- note -->\r\n| | Fri, Oct 14, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| Add auto complete for iTerm2 |\r\n|**üí° Solution**:| use `fig` |\r\n|**üîó Ref**: | https://github.com/withfig/autocomplete |\r\n|**#Ô∏è‚É£ Tags**:| `cli` `workflow` `quality-of-life` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nIn VS Code, I can see code hints from IntelliSense which often contain new informations for me:\r\n\r\n<img width=\"600\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7823011/195816478-d9df1486-fe1e-4040-9427-2e8190321772.png\">\r\n\r\nThen I found that `fig` can actually do the same for my terminal (iTerm2). _Mind blown_ ü§Ø:\r\n\r\n<img width=800 src=https://user-images.githubusercontent.com/7823011/195816817-645ef1f0-7e25-47e6-bb85-abaf5b921f80.png />\r\n\r\nHere's a preview of `fig` showing hints for `brew`, `asdf`, and `npm`:\r\n\r\n![Screen Recording 2022-10-14 at 12 49 18 mov](https://user-images.githubusercontent.com/7823011/195819985-57a462c1-061d-4a14-b1cd-2d7171b52443.gif)\r\n\r\nFor macOS, installation is easy: `brew install fig`"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4336774",
    "id": 4336774,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCLIY",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-15T11:16:33Z",
    "updated_at": "2022-10-18T18:46:58Z",
    "body": "<!-- note -->\r\n| | Sat, Oct 15, 2022 |\r\n|--------|-------|\r\n|**üí° TIL:**| `bat` has `batdiff` that gives you a prettier `git diff` |\r\n|**üîó Ref**: | https://github.com/eth-p/bat-extras |\r\n|**#Ô∏è‚É£ Tags**:| `workflow` `cli` `quality-of-life` |\r\n\r\n**Context**:  \r\nAfter playing around with `bat` (see [previous note](#gistcomment-4335623)), I found that `bat` has `bat-extras` which integrates syntax highlighting to existing tools. The two extras that I immediately use is `batgrep` and `batdiff`.\r\n\r\nHere's the preview:\r\n\r\n| `ripgrep`: | `batgrep`: |\r\n|--------|-------|\r\n| ![image](https://user-images.githubusercontent.com/7823011/195983405-939ebf46-9de7-4624-8d01-726076b684c4.png) | ![image](https://user-images.githubusercontent.com/7823011/195983418-4d18103b-7358-43e7-816e-f2279d49cb4e.png)|\r\n\r\n| `git diff`: | `batdiff`:|\r\n|--------|-------|\r\n|![image](https://user-images.githubusercontent.com/7823011/195983462-16ab1d46-8a7a-4c76-82ef-fbac385ab5cf.png)|![image](https://user-images.githubusercontent.com/7823011/195983480-14b39382-12e6-4c71-97b9-b8c54b664119.png)|\r\n\r\nFor macOS, installation is easy (after you've installed `bat`): `brew install eth-p/software/bat-extras`.\r\n\r\nFor other platform, see their [README](https://github.com/eth-p/bat-extras#installation)."
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4340337",
    "id": 4340337,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCOnE",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-18T21:02:54Z",
    "updated_at": "2022-10-18T21:02:54Z",
    "body": "<!-- note -->\r\n| | Tue, Oct 18, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| I want to find all `node_modules` folders |\r\n|**üí° Solution**:| Use `find` with `-prune` |\r\n|**üîó Ref**: | [SO comment](https://stackoverflow.com/a/55928999/5381120) |\r\n|**#Ô∏è‚É£ Tags**:| `js` `cli` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI'm curious how many node_modules folders I have accumulated and how many GB it cost me. I found the SO comment (in Ref) that suggests to use `find` with `-prune` to list all node_modules folders excluding its descendants (because node_modules can be nested). Note that I mostly use `yarn` and only recently started using `pnpm`.\r\n\r\nThe command to find all node_modules folders:\r\n\r\n```sh\r\nfind . -type d -name node_modules -prune | tr '\\n' '\\0' |  xargs -0 du -sch\r\n```\r\n\r\nTurns out I have **110 node_modules folders, 31 GB in total**. Maybe I should start deleting them.\r\n\r\n<details><summary>Here's all my node_modules with their size, for my future reference</summary>\r\n\r\n<br/>\r\n\r\n> Note: some paths are masked (eg. \"***\") for privacy reason\r\n\r\n||size|path|\r\n|--|--|--|\r\n|   1   | 319M |    ./learn/nestjs-fundamentals/iluvcoffee/node_modules |\r\n|   2   | 197M |    ./learn/fireship/react-next-firebase/nextfire/node_modules |\r\n|   3   |  13M |    ./playground/ava-demo/node_modules |\r\n|   4   | 784M |    ./playground/my-solito-app/node_modules |\r\n|   5   |   0B |    ./playground/my-solito-app/apps/next/node_modules |\r\n|   6   |  59M |    ./playground/my-solito-app/apps/expo/node_modules |\r\n|   7   | 250M |    ./playground/my-turborepo/node_modules |\r\n|   8   |   0B |    ./playground/my-turborepo/packages/ui/node_modules |\r\n|   9   |   0B |    ./playground/my-turborepo/packages/eslint-config-custom/node_modules |\r\n|  10   | 196K |    ./playground/my-turborepo/apps/web/node_modules |\r\n|  11   | 196K |    ./playground/my-turborepo/apps/docs/node_modules |\r\n|  12   | 406M |    ./playground/taskbox/node_modules |\r\n|  13   | 494M |    ./playground/hocus2/node_modules |\r\n|  14   | 176M |    ./playground/node_modules |\r\n|  15   |  35M |    ./playground/hocuspocus/playground/frontend/node_modules |\r\n|  16   | 1.7M |    ./playground/hocuspocus/playground/backend/node_modules |\r\n|  17   | 732M |    ./playground/hocuspocus/node_modules |\r\n|  18   | 148K |    ./playground/hocuspocus/tests/node_modules |\r\n|  19   | 800K |    ./playground/hocuspocus/packages/extension-monitor/node_modules |\r\n|  20   |   0B |    ./playground/hocuspocus/packages/server/node_modules |\r\n|  21   | 196K |    ./playground/hocuspocus/packages/cli/node_modules |\r\n|  22   |   0B |    ./playground/hocuspocus/packages/extension-redis/node_modules |\r\n|  23   |  69M |    ./playground/total-typescript/advanced-typescript-workshop/node_modules |\r\n|  24   |  95M |    ./playground/total-typescript/beginners-typescript-tutorial/node_modules |\r\n|  25   |  32M |    ./playground/total-typescript/typescript-generics-workshop/node_modules |\r\n|  26   |  12M |    ./playground/total-typescript/type-transformations-workshop/node_modules |\r\n|  27   | 299M |    ./playground/rns-react-native-firebase-chat-app/node_modules |\r\n|  28   | 176M |    ./playground/qwik-app/node_modules |\r\n|  29   | 1.0M |    ./playground/faktory-node-require-jobs/node_modules |\r\n|  30   | 1.1G |    ./playground/nativebase-startup/node_modules |\r\n|  31   | 499M |    ./playground/hocus/node_modules |\r\n|  32   | 579M |    ./playground/nextron-tailwind/node_modules |\r\n|  33   | 333M |    ./playground/test-zustand/node_modules |\r\n|  34   | 145M |    ./playground/react-query-course/node_modules |\r\n|  35   | 305M |    ./playground/rns-WordleClone/node_modules |\r\n|  36   | 682M |    ./playground/csb-storybook-zeus/node_modules |\r\n|  37   | 280M |    ./playground/rns-over-the-air-update-class/node_modules |\r\n|  38   | 275M |    ./playground/kbar/node_modules |\r\n|  39   | 220M |    ./playground/slidev-multientry/node_modules |\r\n|  40   |  20M |    ./playground/cloudinary-folder-usage/node_modules |\r\n|  41   | 469M |    ./playground/expo-template-typescript-jest/node_modules |\r\n|  42   | 149M |    ./playground/test-zustand-vite/node_modules |\r\n|  43   |  93M |    ./playground/zod-tutorial/node_modules |\r\n|  44   | 245M |    ./playground/typesense-instantsearch-demo/node_modules |\r\n|  45   | 484M |    ./playground/trpc-prisma-starter/node_modules |\r\n|  46   | 1.3G |    ./ki***und/web_v2/node_modules |\r\n|  47   | 738M |    ./ki***und/web/node_modules |\r\n|  48   | 784M |    ./go****up/x-solito/node_modules |\r\n|  49   |   0B |    ./go****up/x-solito/apps/next/node_modules |\r\n|  50   |  59M |    ./go****up/x-solito/apps/expo/node_modules |\r\n|  51   | 1.6G |    ./go****up/app/node_modules |\r\n|  52   |   0B |    ./go****up/_tmp/next/node_modules |\r\n|  53   |  73M |    ./go****up/gsdb/node_modules |\r\n|  54   | 168M |    ./go****up/hasura/node_modules |\r\n|  55   | 265M |    ./go****up/mailer/node_modules |\r\n|  56   | 2.3G |    ./go****up/mono-template/node_modules |\r\n|  57   |   0B |    ./go****up/mono-template/packages/app/node_modules |\r\n|  58   |   0B |    ./go****up/mono-template/packages/test/node_modules |\r\n|  59   |   0B |    ./go****up/mono-template/packages/backend/node_modules |\r\n|  60   | 378M |    ./go****up/mono-template/packages/hocus/node_modules |\r\n|  61   | 1.7M |    ./go****up/mono-template/apps/next/node_modules |\r\n|  62   |   0B |    ./go****up/mono-template/apps/tauri/node_modules |\r\n|  63   |   0B |    ./go****up/mono-template/apps/expo/node_modules |\r\n|  64   | 377M |    ./go****up/mono-template/apps/nextron/node_modules |\r\n|  65   | 109M |    ./go****up/firebase-function-custom-user-claims/functions/node_modules |\r\n|  66   | 1.9G |    ./go****up/mobile/node_modules |\r\n|  67   |   0B |    ./go****up/mobile/packages/test/node_modules |\r\n|  68   |   0B |    ./go****up/mobile/packages/backend/node_modules |\r\n|  69   | 1.7M |    ./go****up/mobile/apps/next/node_modules |\r\n|  70   |   0B |    ./go****up/mobile/apps/expo/node_modules |\r\n|  71   | 377M |    ./go****up/mobile/apps/nextron/node_modules |\r\n|  72   | 691M |    ./go****up/api/node_modules |\r\n|  73   | 290M |    ./go****up/x/packages/app/node_modules |\r\n|  74   |  12M |    ./go****up/x/apps/next/node_modules |\r\n|  75   | 267M |    ./go****up/x/apps/next/.storybook/node_modules |\r\n|  76   | 355M |    ./go****up/x/apps/expo/node_modules |\r\n|  77   |   0B |    ./go****up/x/apps/nextron/node_modules |\r\n|  78   |   0B |    ./go****up/mono-template-old/packages/app/node_modules |\r\n|  79   |   0B |    ./go****up/mono-template-old/packages/test/node_modules |\r\n|  80   |   0B |    ./go****up/mono-template-old/packages/backend/node_modules |\r\n|  81   | 1.7M |    ./go****up/mono-template-old/apps/next/node_modules |\r\n|  82   | 268M |    ./go****up/mono-template-old/apps/next/.storybook/node_modules |\r\n|  83   |   0B |    ./go****up/mono-template-old/apps/expo/node_modules |\r\n|  84   | 5.4M |    ./gu****d/web/workspace/node_modules |\r\n|  85   | 1.0G |    ./gu****d/web/node_modules |\r\n|  86   |  13M |    ./github/tailwindui-storybook/node_modules |\r\n|  87   | 380M |    ./github/rubytricks.com/node_modules |\r\n|  88   |  93M |    ./github/slides/slidev-demo/node_modules |\r\n|  89   | 4.0K |    ./github/pr/node_modules |\r\n|  90   | 272M |    ./github/pr/pmndrs/node_modules |\r\n|  91   | 2.2G |    ./github/triv/node_modules |\r\n|  92   |   0B |    ./github/triv/packages/test/node_modules |\r\n|  93   |   0B |    ./github/triv/packages/backend/node_modules |\r\n|  94   | 126M |    ./github/triv/packages/hocus/node_modules |\r\n|  95   | 1.7M |    ./github/triv/apps/next/node_modules |\r\n|  96   |   0B |    ./github/triv/apps/tauri/node_modules |\r\n|  97   |   0B |    ./github/triv/apps/expo/node_modules |\r\n|  98   | 377M |    ./github/triv/apps/nextron/node_modules |\r\n|  99   |  28M |    ./github/csproject/node_modules |\r\n| 100   | 825M |    ./github/tg-sisubot/node_modules |\r\n| 101   | 284M |    ./github/devto/devto-nextjs-api-ts/node_modules |\r\n| 102   | 709M |    ./github/csb-storybook/node_modules |\r\n| 103   | 383M |    ./github/programmerwfh.com/node_modules |\r\n| 104   | 1.3G |    ./github/sensible-meeting/body/node_modules |\r\n| 105   |  32M |    ./github/sensible-meeting/RPI/node_modules |\r\n| 106   |  12K |    ./github/threejs-journey/bruno-starter-pack/05-transform-objects/node_modules |\r\n| 107   | 152M |    ./github/threejs-journey/node_modules |\r\n| 108   |  11M |    ./github/threejs-journey/apps/vite-starter/node_modules |\r\n| 109   | 253M |    ./github/threejs-journey/apps/fiber-starter/node_modules |\r\n| 110   | 995M |    ./github/hypertwind/node_modules |\r\n|    |  **31G**  |  **total** |\r\n\r\n</details>\r\n"
  },
  {
    "url": "https://api.github.com/gists/ba2f58d7aeeb3cf53743316f96f91594/comments/4340457",
    "id": 4340457,
    "node_id": "GC_lADOAHdeo9oAIGJhMmY1OGQ3YWVlYjNjZjUzNzQzMzE2Zjk2ZjkxNTk0zgBCOuk",
    "user": {
      "login": "wzulfikar",
      "id": 7823011,
      "node_id": "MDQ6VXNlcjc4MjMwMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7823011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wzulfikar",
      "html_url": "https://github.com/wzulfikar",
      "followers_url": "https://api.github.com/users/wzulfikar/followers",
      "following_url": "https://api.github.com/users/wzulfikar/following{/other_user}",
      "gists_url": "https://api.github.com/users/wzulfikar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wzulfikar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wzulfikar/subscriptions",
      "organizations_url": "https://api.github.com/users/wzulfikar/orgs",
      "repos_url": "https://api.github.com/users/wzulfikar/repos",
      "events_url": "https://api.github.com/users/wzulfikar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wzulfikar/received_events",
      "type": "User",
      "site_admin": false
    },
    "author_association": "OWNER",
    "created_at": "2022-10-18T23:31:02Z",
    "updated_at": "2022-10-18T23:34:12Z",
    "body": "<!-- note -->\r\n| | Wed, Oct 19, 2022 |\r\n|--------|-------|\r\n|**üß∂ Problem:**| I want macOS to trigger a backup script when I plug in a microSD |\r\n|**üí° Solution**:| Use Apple Automator to trigger `rsync`|\r\n|**üîó Ref**: | [Apple Support Community](https://discussions.apple.com/thread/1949216?answerId=9197535022#9197535022) |\r\n|**#Ô∏è‚É£ Tags**:| `macOS` `automator` `workflow` |\r\n|**üî¢ Encounters**:| 1 |\r\n\r\n**Context**:  \r\nI have 2 cameras that I use to record videos (DJI Pocket 2 and Akaso Brave 7). After recording some videos, I'll:\r\n\r\n1. take out the microSD from the camera\r\n2. plug it in to my card reader\r\n3. copy the videos to my SSD (I use [`rsync`](https://linux.die.net/man/1/rsync) for this)\r\n4. plug out the microSD and put it back to the device. \r\n\r\nI noticed the pattern and I thought it'd be good if I can automate number 3. I know I can trigger a script when a device mounted using `systemd` (eg. [this gist](https://gist.github.com/vladbabii/2e76246aab0b5212db2d3759de174ebd)) but macOS doesn't have systemd. So I googled and found the discussion in Apple Support Community (see Ref). Turns out I can us Automator for that.\r\n\r\n<img width=\"800\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7823011/196563929-91668e91-133a-48e9-a74b-e4f755acd43b.png\">\r\n\r\nAutomator script:\r\n\r\n```sh\r\ndevice=$(basename $@)\r\nscript=/Volumes/wzulfikar/Devices/$device/sync.sh\r\n\r\n[ ! -f \"$script\" ] && exit 1\r\n\r\nosascript -e \"display dialog \\\"Syncing $@..\\\" giving up after 5\"\r\n\r\n$script\r\n\r\nosascript -e \"display dialog \\\"Sync completed for $@\\\"\"\r\n```\r\n\r\n`sync.sh` script (eg. located in `/Volumes/wzulfikar/Devices/DJIPOCKET2/sync.sh`):\r\n\r\n```sh\r\n#!/bin/sh\r\n\r\nsource=/Volumes/DJIPOCKET2/DCIM/\r\ntarget=/Volumes/wzulfikar/Devices/DJIPOCKET2/DCIM/\r\n\r\necho \"Syncing $source to $target\"\r\n\r\nrsync -rP --ignore-existing $source $target\r\n```\r\n\r\n<p align=center>‚ñ≤‚ñº‚ñ≤</p>\r\n\r\nWhen doing this, I also learnt that Automator stores its scripts in `~/Library/Workflows/Applications`. Here's how my Folder Actions script look like in that directory:\r\n\r\n<img width=500 src=https://user-images.githubusercontent.com/7823011/196562731-40775718-edb8-4376-9305-085575cb4780.png />\r\n"
  }
]
